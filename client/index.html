<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1, user-scalable=0">
  <title>Mittens</title>
  <link rel="stylesheet" type="text/css" href="css/normalize.css" />
  <link rel="stylesheet" type="text/css" href="css/snap.css" />
  <link rel="stylesheet" type="text/css" href="css/mittens.css" />
  <link rel="stylesheet" type="text/css" href="//netdna.bootstrapcdn.com/font-awesome/3.2.1/css/font-awesome.css" />
</head>
<body class="frame">
  <div id="mittens"></div>
  <script type="text/x-handlebars" id="application">
    <div class="snap-drawers">
      <div class="snap-drawer snap-drawer-left">
        <h2>Left</h2>
      </div>
      <div class="snap-drawer snap-drawer-right">
        <h2>Right</h2>
      </div>
    </div>
    <div id="main" class="snap-content">
      <div id="toolbar">
        <a href="#" id="open-left"><i class="icon-reorder"></i></a>
        <h1>Mittens</h1>
        {{#linkTo 'settings' class="settings"}}<i class="icon-gear"></i>{{/linkTo}}
      </div>
      <div id="content">
        {{outlet main}}
      </div>
    </div>
  </script>
  <script type="text/x-handlebars" id="index">
      {{search-box label='What would you like to watch today?'}}
  </script>

  <script type="text/x-handlebars" id="searchCategory">
    <header>
      <h3>{{view.title}}</h3>
      {{#if content.isLoaded}}
        <div class="num-results">{{view.filteredContent.length}}</div>
      {{else}}
        <div class="loading"><i class="icon-spinner icon-spin"></i></div>
      {{/if}}
    </header>
    {{#if content.isLoaded}}
      <ul class="list">
      {{#each view.filteredContent}}
        {{render "searchItem" this}}
      {{/each}}
      </ul>
    {{/if}}
  </script>

  <script type="text/x-handlebars" id="searchItem">
    <div class="body" {{action 'toggle'}}>
      <h4>{{title}}</h4>
      <span class="subTitle">{{year}}</span>
      <a class="toggle-view">
        <i {{bindAttr class="isOpen:icon-chevron-down:icon-chevron-right"}}></i>
        <span> Open</span>
      </a>
    </div>
    <div {{bindAttr class="isOpen:open :actions"}}>
      <div class="content">
      <div class="left">
        <div class="plot">{{plot}}</div>
        <ul>
          <li class="genre">{{genres}}</li>
          <li class="runtime">Runtime: {{runtime}} Min</li>
        </ul>
      </div>
      <div class="right"><img src="{{unbound poster}}"></div>
      </div>
      <footer>
      {{#if inLibrary}}
        <a {{action 'playItem'}}><i class="icon-play"></i> Play</a>
      {{else}}
        <a {{action 'request'}}><i class="icon-cloud-download"></i> Add</a>
      {{/if}}
      </footer>
    </div>
  </script>
  

  <script type="text/x-handlebars" id="components/search-box">
    <header>
      {{view Mittens.SearchField valueBinding='query' placeholderBinding='label'}}
      <button {{action submit}}><i class="icon-search"></i><span> Search</span></button>
    </header>
    {{#if hasSearched}}
        {{view Mittens.SearchCategoryView contentBinding="content"}}
      </div>
    {{/if}}
  </script>

  <script type="text/x-handlebars" id="settings">
    {{#linkTo 'index'}}Home{{/linkTo}}
    <div class="settings">
      <h1>Settings</h1>
      <h2>CouchPotato</h2>
      <div>{{view Ember.TextField valueBinding="name" placeholder="Name"}}{{name}}</div>
      <div>{{view Ember.TextField valueBinding="host" placeholder="Host"}}</div>
      <div>{{view Ember.TextField valueBinding="port" placeholder="Port"}}</div>
      <div>{{view Ember.TextField valueBinding="api" placeholder="API"}}</div>
      <div>{{view Ember.TextField valueBinding="alias" placeholder="Alias"}}</div>
      <div>Active {{view Ember.Checkbox valueBinding="active"}}</div>
      <button {{action submit}}><i class="icon-save"></i><span> Save</span></button>
    </div>
    
  </script>

  <script type="text/javascript" src="js/lib/jquery-2.0.2.min.js"></script>
  <script type="text/javascript" src="js/lib/handlebars-1.0.0-rc.4.js"></script>
  <script type="text/javascript" src="js/lib/ember-1.0.0-rc.6.1.min.js"></script>
  <script type="text/javascript" src="js/lib/ember-data-latest.min.js"></script>
  <script type="text/javascript" src="js/lib/MediaClass.js"></script>
  <script type="text/javascript" src="js/lib/snap.js"></script>
  <script type="text/javascript" src="js/templates.js"></script>
  <script type="text/javascript" src="js/app.js"></script>
  <script type="text/javascript" src="js/router.js"></script>
</body>
</html>
